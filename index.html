<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Küp Birleştirme Oyunu</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .game-container {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 500px;
            padding: 25px;
            text-align: center;
        }
        
        .game-header {
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
        }
        
        h1 {
            color: #333;
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .level-info {
            color: #666;
            font-size: 18px;
            font-weight: 600;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            background-color: #f5f5f5;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .stat-item {
            flex: 1;
        }
        
        .stat-label {
            font-size: 14px;
            color: #777;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        
        .game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-gap: 10px;
            margin: 20px 0;
            perspective: 1000px;
        }
        
        .cube {
            aspect-ratio: 1;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transform-style: preserve-3d;
        }
        
        .cube:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
        }
        
        .cube-2 { background: linear-gradient(135deg, #43cea2, #185a9d); }
        .cube-4 { background: linear-gradient(135deg, #ff7e5f, #feb47b); }
        .cube-8 { background: linear-gradient(135deg, #8e2de2, #4a00e0); }
        .cube-16 { background: linear-gradient(135deg, #00c9ff, #92fe9d); }
        .cube-32 { background: linear-gradient(135deg, #f46b45, #eea849); }
        .cube-64 { background: linear-gradient(135deg, #a8ff78, #78ffd6); }
        .cube-128 { background: linear-gradient(135deg, #f857a6, #ff5858); }
        .cube-256 { background: linear-gradient(135deg, #00b4db, #0083b0); }
        .cube-512 { background: linear-gradient(135deg, #667eea, #764ba2); }
        .cube-1024 { background: linear-gradient(135deg, #f093fb, #f5576c); }
        .cube-2048 { background: linear-gradient(135deg, #4facfe, #00f2fe); }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        button {
            padding: 12px 20px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
        }
        
        #hint-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            flex: 1;
            margin-right: 10px;
        }
        
        #menu-btn {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            flex: 1;
            margin-left: 10px;
        }
        
        .message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: 600;
            display: none;
        }
        
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .level-complete {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            display: none;
        }
        
        .level-complete-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .level-complete h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 32px;
        }
        
        .level-complete p {
            margin-bottom: 20px;
            font-size: 18px;
            color: #666;
        }
        
        #next-level-btn {
            background: linear-gradient(135deg, #43cea2, #185a9d);
            color: white;
            padding: 12px 30px;
            font-size: 18px;
        }
        
        .cube-merged {
            animation: mergeAnimation 0.5s ease;
        }
        
        @keyframes mergeAnimation {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <h1>Küp Birleştirme Oyunu</h1>
            <div class="level-info">Seviye 1 - 8 Küp</div>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-label">Puan</div>
                <div class="stat-value" id="score">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Hamle</div>
                <div class="stat-value" id="moves">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Kalan Eşleşme</div>
                <div class="stat-value" id="matches-left">4</div>
            </div>
        </div>
        
        <div class="game-board" id="game-board">
            <!-- Küpler JavaScript ile eklenecek -->
        </div>
        
        <div class="message success" id="success-message">
            Tebrikler! Küpleri başarıyla birleştirdiniz.
        </div>
        
        <div class="controls">
            <button id="hint-btn">İpucu</button>
            <button id="menu-btn">Menü</button>
        </div>
    </div>
    
    <div class="level-complete" id="level-complete">
        <div class="level-complete-content">
            <h2>Seviye Tamamlandı!</h2>
            <p>Tebrikler! Seviye 1'i başarıyla tamamladınız.</p>
            <button id="next-level-btn">Sonraki Seviye</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Oyun değişkenleri
            let score = 0;
            let moves = 0;
            let matchesLeft = 4;
            let level = 1;
            let cubes = [];
            let selectedCube = null;
            
            // DOM elementleri
            const gameBoard = document.getElementById('game-board');
            const scoreElement = document.getElementById('score');
            const movesElement = document.getElementById('moves');
            const matchesLeftElement = document.getElementById('matches-left');
            const hintButton = document.getElementById('hint-btn');
            const menuButton = document.getElementById('menu-btn');
            const successMessage = document.getElementById('success-message');
            const levelComplete = document.getElementById('level-complete');
            const nextLevelButton = document.getElementById('next-level-btn');
            
            // Küp değerleri - her değerden 2 tane olacak şekilde
            const cubeValues = [2, 2, 4, 4, 8, 8, 16, 16];
            
            // Oyunu başlat
            initGame();
            
            function initGame() {
                // Oyun tahtasını temizle
                gameBoard.innerHTML = '';
                cubes = [];
                
                // Küpleri oluştur ve rastgele yerleştir
                const shuffledValues = [...cubeValues].sort(() => Math.random() - 0.5);
                
                shuffledValues.forEach((value, index) => {
                    const cube = document.createElement('div');
                    cube.className = `cube cube-${value}`;
                    cube.textContent = value;
                    cube.dataset.value = value;
                    cube.dataset.index = index;
                    
                    cube.addEventListener('click', handleCubeClick);
                    
                    gameBoard.appendChild(cube);
                    cubes.push(cube);
                });
                
                // İstatistikleri sıfırla
                score = 0;
                moves = 0;
                matchesLeft = 4;
                updateStats();
                
                // Mesajları gizle
                successMessage.style.display = 'none';
                levelComplete.style.display = 'none';
            }
            
            function handleCubeClick(e) {
                const clickedCube = e.target;
                
                // Eğer küp zaten eşleşmişse veya aynı küp tekrar tıklandıysa işlem yapma
                if (clickedCube.classList.contains('matched') || clickedCube === selectedCube) {
                    return;
                }
                
                // Eğer önceden seçili bir küp yoksa, bu küpü seç
                if (!selectedCube) {
                    selectedCube = clickedCube;
                    selectedCube.style.opacity = '0.7';
                    return;
                }
                
                // İki küpü karşılaştır
                moves++;
                updateStats();
                
                const value1 = parseInt(selectedCube.dataset.value);
                const value2 = parseInt(clickedCube.dataset.value);
                
                if (value1 === value2) {
                    // Eşleşme başarılı - küpleri birleştir
                    handleMatch(selectedCube, clickedCube);
                } else {
                    // Eşleşme başarısız - küpleri sıfırla
                    setTimeout(() => {
                        selectedCube.style.opacity = '1';
                        clickedCube.style.opacity = '1';
                        selectedCube = null;
                    }, 500);
                }
            }
            
            function handleMatch(cube1, cube2) {
                // Küpleri eşleşmiş olarak işaretle
                cube1.classList.add('matched');
                cube2.classList.add('matched');
                
                // Yeni birleşmiş küp oluştur
                const mergedValue = parseInt(cube1.dataset.value) * 2;
                const mergedCube = document.createElement('div');
                mergedCube.className = `cube cube-${mergedValue} cube-merged`;
                mergedCube.textContent = mergedValue;
                mergedCube.dataset.value = mergedValue;
                
                // Eski küpleri kaldır ve yeni küpü ekle
                setTimeout(() => {
                    cube1.style.display = 'none';
                    cube2.style.display = 'none';
                    
                    // Yeni küpü ekle ve animasyonu tetikle
                    gameBoard.appendChild(mergedCube);
                    
                    // Puanı güncelle
                    score += mergedValue;
                    matchesLeft--;
                    updateStats();
                    
                    // Tüm eşleşmeler tamamlandı mı kontrol et
                    if (matchesLeft === 0) {
                        setTimeout(completeLevel, 1000);
                    }
                    
                    selectedCube = null;
                }, 300);
            }
            
            function completeLevel() {
                // Başarı mesajını göster
                successMessage.style.display = 'block';
                
                // Seviye tamamlandı ekranını göster
                setTimeout(() => {
                    levelComplete.style.display = 'flex';
                }, 1500);
            }
            
            function updateStats() {
                scoreElement.textContent = score;
                movesElement.textContent = moves;
                matchesLeftElement.textContent = matchesLeft;
            }
            
            // İpucu butonu işlevi
            hintButton.addEventListener('click', function() {
                // Eşleşebilecek küpleri bul ve vurgula
                const unmatchedCubes = cubes.filter(cube => !cube.classList.contains('matched'));
                
                if (unmatchedCubes.length >= 2) {
                    // Rastgele bir eşleşme bul
                    for (let i = 0; i < unmatchedCubes.length - 1; i++) {
                        for (let j = i + 1; j < unmatchedCubes.length; j++) {
                            if (unmatchedCubes[i].dataset.value === unmatchedCubes[j].dataset.value) {
                                // Eşleşen küpleri vurgula
                                unmatchedCubes[i].style.boxShadow = '0 0 0 3px gold';
                                unmatchedCubes[j].style.boxShadow = '0 0 0 3px gold';
                                
                                // 2 saniye sonra vurgulamayı kaldır
                                setTimeout(() => {
                                    unmatchedCubes[i].style.boxShadow = '';
                                    unmatchedCubes[j].style.boxShadow = '';
                                }, 2000);
                                return;
                            }
                        }
                    }
                }
            });
            
            // Menü butonu işlevi
            menuButton.addEventListener('click', function() {
                if (confirm('Oyundan çıkmak istediğinize emin misiniz?')) {
                    initGame();
                }
            });
            
            // Sonraki seviye butonu işlevi
            nextLevelButton.addEventListener('click', function() {
                level++;
                // Yeni seviye için küp değerlerini güncelle
                cubeValues.push(level * 8, level * 8);
                
                // Oyun tahtasını büyüt (seviye arttıkça)
                if (level <= 3) {
                    gameBoard.style.gridTemplateColumns = 'repeat(4, 1fr)';
                } else if (level <= 6) {
                    gameBoard.style.gridTemplateColumns = 'repeat(5, 1fr)';
                } else {
                    gameBoard.style.gridTemplateColumns = 'repeat(6, 1fr)';
                }
                
                // Seviye bilgisini güncelle
                document.querySelector('.level-info').textContent = `Seviye ${level} - ${cubeValues.length} Küp`;
                
                // Oyunu yeniden başlat
                initGame();
            });
        });
    </script>
</body>
</html>
