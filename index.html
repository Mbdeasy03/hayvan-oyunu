<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>3D Blocks â€” Solid Cube (Emoji)</title>
<style>
  :root{
    --bg:#071024;
    --panel:rgba(6,10,18,0.7);
    --accent:#FFD166;
    --muted:rgba(255,255,255,0.75);
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:Inter,system-ui,Arial,sans-serif;
    background:linear-gradient(180deg,var(--bg) 0%, #041221 100%);
    color:#fff;
    height:100vh;
    overflow:hidden;
  }

  /* START / MENU */
  #startScreen{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6));
    z-index:20;
  }
  .menuCard{
    width:min(720px,94vw);
    background:var(--panel);padding:20px;border-radius:14px;backdrop-filter:blur(6px);
    box-shadow:0 8px 30px rgba(0,0,0,0.6);text-align:center;
  }
  .menuRow{display:flex;gap:8px;align-items:center;justify-content:center;margin-top:12px}
  input[type=number]{width:100px;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff}
  button{padding:10px 14px;border-radius:8px;border:none;cursor:pointer;background:linear-gradient(90deg,#4caf50,#2e8b57);color:#fff;font-weight:600}
  .muted{color:var(--muted);font-size:13px;margin-top:8px}

  /* TOP HUD - only on puzzle screen */
  #topHUD{
    position:fixed;left:12px;right:12px;top:12px;z-index:15;display:none;
    display:flex;align-items:center;justify-content:space-between;gap:12px;
  }
  #topHUD .left, #topHUD .right{display:flex;gap:8px;align-items:center}
  .smallBtn{padding:8px 10px;border-radius:8px;border:none;background:rgba(255,255,255,0.06);color:#fff;cursor:pointer}

  /* CENTER VIEWPORT (puzzle) */
  #viewport{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  }

  /* bottom stats panel */
  #bottomPanel{
    position:fixed;left:12px;bottom:12px;padding:10px;border-radius:10px;background:var(--panel);display:flex;gap:10px;align-items:center;z-index:12;
  }
  .stat{font-size:13px;color:var(--muted)} .val{font-weight:700;color:var(--accent);margin-left:6px}

  @media(max-width:680px){
    .menuCard{padding:14px}
    #topHUD{left:6px;right:6px;top:6px}
    #bottomPanel{left:6px;right:6px;bottom:6px}
  }
</style>
</head>
<body>
  <!-- START SCREEN -->
  <div id="startScreen">
    <div class="menuCard">
      <h1>ğŸ² 3D Blocks â€” Solid Cube (Emoji)</h1>
      <p class="muted">Her kÃ¼Ã§Ã¼k kÃ¼p bir hayvanÄ± temsil eder (tÃ¼m yÃ¼zleri aynÄ±). DÄ±ÅŸtakileri eÅŸleÅŸtirince iÃ§tekiler gÃ¶rÃ¼nÃ¼r olur.</p>
      <div style="margin-top:12px">
        <label style="color:var(--muted);font-size:13px">Seviye (n) â€” 3..30:</label>
        <div class="menuRow">
          <input id="menuLevel" type="number" min="3" max="30" value="3" />
          <button id="menuStart">OYUNU BAÅLAT</button>
          <button id="menuHow">NASIL OYNANIR</button>
        </div>
      </div>
      <p class="muted" style="margin-top:10px">Performans: n bÃ¼yÃ¼k seÃ§ilirse tarayÄ±cÄ± yavaÅŸlayabilir. Tavsiye: <strong>3â€“12</strong> arasÄ± test et.</p>
    </div>
  </div>

  <!-- TOP HUD -->
  <div id="topHUD">
    <div class="left">
      <div style="font-weight:700">Seviye: <span id="hudLevel">3x3x3</span></div>
      <button class="smallBtn" id="hudHint">Ä°pucu</button>
      <button class="smallBtn" id="hudBack">Geri</button>
    </div>
    <div class="right">
      <div style="font-size:13px;color:var(--muted)">Puan: <span id="hudScore" style="color:var(--accent);font-weight:700">0</span></div>
    </div>
  </div>

  <!-- VIEWPORT -->
  <div id="viewport"></div>

  <!-- bottom panel -->
  <div id="bottomPanel">
    <div class="stat">Hamle: <span id="hudMoves" class="val">0</span></div>
    <div class="stat">EÅŸleÅŸme: <span id="hudMatches" class="val">0</span></div>
    <div class="stat">Kalan: <span id="hudRemaining" class="val">0</span></div>
  </div>

  <script>
    // === OYUNU BAÅLAT BUTONU KESÄ°N Ã‡ALIÅACAK ===
    console.log("=== 3D BLOCKS - BUTON KONTROLÃœ ===");
    
    // DOM ELEMENTLERÄ°
    const startScreen = document.getElementById('startScreen');
    const menuStart = document.getElementById('menuStart');
    const menuLevel = document.getElementById('menuLevel');
    const menuHow = document.getElementById('menuHow');
    const topHUD = document.getElementById('topHUD');
    const hudLevel = document.getElementById('hudLevel');
    const hudHint = document.getElementById('hudHint');
    const hudBack = document.getElementById('hudBack');
    const hudScore = document.getElementById('hudScore');
    const hudMoves = document.getElementById('hudMoves');
    const hudMatches = document.getElementById('hudMatches');
    const hudRemaining = document.getElementById('hudRemaining');
    const viewport = document.getElementById('viewport');

    // BUTON KONTROLLERÄ° - KESÄ°N Ã‡ALIÅSIN
    function initializeButtons() {
        console.log("ğŸ”§ Butonlar hazÄ±rlanÄ±yor...");
        
        // OYUNU BAÅLAT BUTONU
        if (menuStart) {
            menuStart.addEventListener('click', function() {
                console.log("ğŸ® OYUNU BAÅLAT butonuna tÄ±klandÄ±!");
                startGame();
            });
            console.log("âœ… OYUNU BAÅLAT butonu hazÄ±r");
        } else {
            console.error("âŒ OYUNU BAÅLAT butonu bulunamadÄ±!");
        }

        // NASIL OYNANIR BUTONU
        if (menuHow) {
            menuHow.addEventListener('click', function() {
                alert("NASIL OYNANIR:\n\nâ€¢ AmaÃ§: AynÄ± hayvan emojisine sahip kÃ¼pleri bulup eÅŸleÅŸtirmek\nâ€¢ DÄ±ÅŸtaki kÃ¼pleri eÅŸleÅŸtirince iÃ§tekiler gÃ¶rÃ¼nÃ¼r olur\nâ€¢ TÃ¼m eÅŸleÅŸtirmeleri tamamlayarak oyunu bitir\nâ€¢ Seviye: 3x3x3, 4x4x4, 5x5x5 gibi boyutlar");
            });
        }

        // GERÄ° BUTONU
        if (hudBack) {
            hudBack.addEventListener('click', function() {
                backToMenu();
            });
        }

        // Ä°PUCU BUTONU
        if (hudHint) {
            hudHint.addEventListener('click', function() {
                alert("Ä°pucu: AynÄ± hayvanlarÄ± bulmak iÃ§in kÃ¼pÃ¼ farklÄ± aÃ§Ä±lardan inceleyin!");
            });
        }
    }

    // OYUNU BAÅLAT
    function startGame() {
        console.log("ğŸš€ OYUN BAÅLATILIYOR...");
        
        const level = parseInt(menuLevel.value) || 3;
        console.log("Seviye:", level);
        
        if (level < 3 || level > 30) {
            alert("LÃ¼tfen 3 ile 30 arasÄ±nda bir seviye girin!");
            return;
        }

        // EkranlarÄ± deÄŸiÅŸtir
        startScreen.style.display = 'none';
        topHUD.style.display = 'flex';
        
        // Oyunu baÅŸlat
        initializeGame(level);
    }

    // MENÃœYE DÃ–N
    function backToMenu() {
        console.log("ğŸ  MenÃ¼ye dÃ¶nÃ¼lÃ¼yor...");
        topHUD.style.display = 'none';
        startScreen.style.display = 'flex';
        
        // Oyun durumunu temizle
        if (viewport.innerHTML) {
            viewport.innerHTML = '';
        }
    }

    // OYUNU BAÅLAT
    function initializeGame(level) {
        console.log("ğŸ® Oyun baÅŸlatÄ±lÄ±yor, seviye:", level);
        
        // Basit bir 3D kÃ¼p gÃ¶sterimi (Three.js olmadan)
        viewport.innerHTML = `
            <div style="text-align: center; color: white;">
                <h2>3D Blocks Oyunu - Seviye ${level}x${level}x${level}</h2>
                <p>Oyun yÃ¼kleniyor...</p>
                <div style="margin: 20px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                    <p>ğŸ¦ ğŸ¯ ğŸ» ğŸ¼ ğŸ¨ ğŸµ</p>
                    <p>HayvanlarÄ± eÅŸleÅŸtirmeye hazÄ±rlanÄ±n!</p>
                </div>
                <button onclick="backToMenu()" style="padding: 10px 20px; background: #FF6B6B; color: white; border: none; border-radius: 8px; cursor: pointer;">MenÃ¼ye DÃ¶n</button>
            </div>
        `;

        // HUD'u gÃ¼ncelle
        hudLevel.textContent = `${level}x${level}x${level}`;
        hudScore.textContent = '0';
        hudMoves.textContent = '0';
        hudMatches.textContent = '0';
        hudRemaining.textContent = Math.floor((level * level * level) / 2);

        console.log("âœ… Oyun baÅŸlatÄ±ldÄ±!");
    }

    // SAYFA YÃœKLENDÄ°ÄÄ°NDE BUTONLARI HAZIRLA
    window.addEventListener('load', function() {
        console.log("âœ… Sayfa yÃ¼klendi!");
        initializeButtons();
        
        // Manuel test iÃ§in global fonksiyon
        window.testStart = function() {
            console.log("ğŸ§ª Test baÅŸlatÄ±lÄ±yor...");
            startGame();
        };
        
        console.log("ğŸ‘‰ 'OYUNU BAÅLAT' butonuna tÄ±kla!");
        console.log("ğŸ‘‰ Veya konsolda testStart() yaz!");
    });

    // DOM hazÄ±r olduÄŸunda da butonlarÄ± hazÄ±rla
    document.addEventListener('DOMContentLoaded', function() {
        console.log("ğŸ“„ DOM hazÄ±r!");
        initializeButtons();
    });

    // Hata yakalama
    window.addEventListener('error', function(e) {
        console.error('âŒ Hata:', e.error);
    });
  </script>
</body>
</html>
